

  <!DOCTYPE html>
 
  <html>
  <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
      <title>deposer en un point donn√©</title>
  </head>
   
  <body >
  <canvas id ="cancan"></canvas>
  <input type="button" id="bout"></button>
  <script>
      var w=window.innerWidth,h=window.innerHeight;
      var x,y;
      
      var canvas=document.getElementById("cancan");
      canvas.width=canvas.height=w/20;
      canvas.style.position="absolute";
      canvas.style.left=w/10 +"px";
      canvas.style.top=h/10+"px";
      
      var bouton=document.getElementById("bout");
      bouton.style.width=w/10+"px";
      bouton.style.height=w/40+"px";
      bouton.style.position="absolute";
      bouton.style.left=4*w/5+"px";
      bouton.style.top=h/10+"px";
      bouton.value="deplacer";
      bouton.addEventListener('click',doClick);
     
      
      var canvasCtx=canvas.getContext('2d');   
      canvasCtx.fillStyle = "#FF0000";
      canvasCtx.fillRect(0,0,w/20,w/20);
      
      document.addEventListener('mousedown',doMousedown);
      
      function doMousedown(event){
        x = event.clientX;
        y = event.clientY;
        document.removeEventListener('mousedown', doMousedown); 
      }
      
      function doClick(){
         canvas.style.left=x-canvas.width/2+"px";
         canvas.style.top=y-canvas.height/2+"px";
         document.addEventListener('mousedown',doMousedown);
      }
  </script>
  </body>
  </html>

